# 作用域

规定变量能够被访问的范围，离开这个范围便不能被访问

## 局部作用域

- 函数作用域

```js
function demo(){
    let a = 2
}

```

- 块作用域

>使用{}包裹着被称为快块作用域

## 全局作用域

>script标签和.js的中声明的变量

```js
<script>
let a = 2
</script>

```

## 作用域链

作用域链本质上是底层的变量查找机制

- 在函数被执行时,会优先查找当前函数作用域中查找变量
- 如果当前作用域查找不到则会依次逐级查找父级作用域直到全局作用域

## js垃圾回收机制（GC）

### 内存的生命周期

js环境中分配的内存，一般分为如下生命周期

- 内存分配： 声明变量、函数、对象的时候，系统会自动分配内存
- 内存使用： 读写内存，也就是使用变量等
- 内存回收： 使用完毕，系统自动回收不再使用的内存

### 说明

- 全局变量一般不会回收（关闭页面回收）
- 一般情况下局部变量，不用了,会被自动回收

> 内存泄漏：程序中分配的内存由于某种原因程序未释放或无法释放叫做内存泄漏

### js垃圾回收机制说明

栈堆空间分配区别

- 栈：由操作系统自动分配释放函数的参数值、局部变量等，基本数据类型放到栈里面
- 堆：一般由程序员分配释放，若程序员不释放，由垃圾回收机制回收。复杂数据类型放到堆里面

常见算法

- 引入计数法
- 标记清除法

## 闭包

> 内部函数访问其外层函数的作用域

```js
function outer() {
    let a = 1
    return function fn(){
        console.log(a);
    }
}
let a = outer()
a()
```

## 函数参数

- 动态参数(存在函数当中,伪数组)

```js
//箭头函数不存在arguments
function sum(){
    console.log(arguments);
}
```

- 剩余参数

```js
function sum(...args){
    console.log(args)
}
```
